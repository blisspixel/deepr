# Deepr Configuration Example
# Copy this file to .env and fill in your values

# ==============================================================================
# PROVIDER CONFIGURATION
# ==============================================================================

# Provider type: "openai" or "azure"
DEEPR_PROVIDER=openai

# ------------------------------------------------------------------------------
# OpenAI Configuration (if using DEEPR_PROVIDER=openai)
# ------------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1  # Optional: custom endpoint
# OPENAI_ORGANIZATION=org-your-org-id  # Optional: organization ID

# ------------------------------------------------------------------------------
# Azure OpenAI Configuration (if using DEEPR_PROVIDER=azure)
# ------------------------------------------------------------------------------
# AZURE_OPENAI_KEY=your-azure-openai-key-here
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_API_VERSION=2024-10-01-preview
# AZURE_USE_MANAGED_IDENTITY=false

# Azure Deployment Names (model mappings)
# AZURE_DEPLOYMENT_O3=o3-deep-research
# AZURE_DEPLOYMENT_O4_MINI=o4-mini-deep-research

# ==============================================================================
# STORAGE CONFIGURATION
# ==============================================================================

# Storage type: "local" or "blob"
DEEPR_STORAGE=local

# Local storage path (default: data/reports)
# DEEPR_REPORTS_PATH=data/reports

# ------------------------------------------------------------------------------
# Azure Blob Storage Configuration (if using DEEPR_STORAGE=blob)
# ------------------------------------------------------------------------------
# AZURE_STORAGE_CONNECTION_STRING=your-connection-string-here
# AZURE_STORAGE_ACCOUNT_URL=https://youraccountname.blob.core.windows.net/
# AZURE_STORAGE_CONTAINER=reports
# AZURE_STORAGE_USE_MANAGED_IDENTITY=false

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# Database type: "jsonl", "sqlite", or "cosmosdb"
DEEPR_DATABASE_TYPE=jsonl

# JSONL database path (default: data/logs/job_log.jsonl)
# DEEPR_JSONL_PATH=data/logs/job_log.jsonl

# SQLite database path (if using sqlite)
# DEEPR_SQLITE_PATH=data/logs/jobs.db

# ------------------------------------------------------------------------------
# Cosmos DB Configuration (if using DEEPR_DATABASE_TYPE=cosmosdb)
# ------------------------------------------------------------------------------
# COSMOSDB_ENDPOINT=https://your-account.documents.azure.com:443/
# COSMOSDB_KEY=your-cosmos-db-key-here
# COSMOSDB_DATABASE=deepr
# COSMOSDB_CONTAINER=jobs

# ==============================================================================
# COST MANAGEMENT
# ==============================================================================

# Cost limits (in USD)
DEEPR_MAX_COST_PER_JOB=10.00
DEEPR_MAX_COST_PER_DAY=100.00
DEEPR_MAX_COST_PER_MONTH=1000.00

# ==============================================================================
# RESEARCH CONFIGURATION
# ==============================================================================

# Default model
DEEPR_DEFAULT_MODEL=o4-mini-deep-research

# Output options
DEEPR_GENERATE_PDF=false
DEEPR_APPEND_REFERENCES=false
DEEPR_STRIP_INLINE_CITATIONS=true

# Job management
DEEPR_MAX_WAIT_TIME=1800  # seconds (30 minutes)
DEEPR_POLL_INTERVAL=30    # seconds
DEEPR_RETRY_ATTEMPTS=5
DEEPR_RETRY_DELAY=30      # seconds

# Batch processing
DEEPR_BATCH_PAUSE_EVERY=5
DEEPR_BATCH_PAUSE_DURATION=180  # seconds (3 minutes)

# ==============================================================================
# WEB INTERFACE / API
# ==============================================================================

# Webhook server
DEEPR_WEBHOOK_ENABLED=true
DEEPR_WEBHOOK_PORT=5000
DEEPR_WEBHOOK_HOST=0.0.0.0

# Ngrok (for local development)
DEEPR_USE_NGROK=true
# DEEPR_NGROK_PATH=ngrok

# Public webhook URL (for cloud deployment)
# DEEPR_PUBLIC_WEBHOOK_URL=https://your-domain.com/webhook

# ==============================================================================
# APPLICATION SETTINGS
# ==============================================================================

# Environment: "local" or "cloud"
DEEPR_ENVIRONMENT=local

# Debug mode
DEEPR_DEBUG=false

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
DEEPR_LOG_LEVEL=INFO

# ==============================================================================
# NOTES
# ==============================================================================
#
# Cost Warning: Deep Research API calls can be expensive ($5-50+ per query)
#   - Set conservative limits
#   - Use cost estimation before submission
#   - Start with o4-mini-deep-research (cheaper)
#   - Monitor spending regularly
#
# Local-First Philosophy:
#   - SQLite queue (no infrastructure required)
#   - Filesystem storage (simple, reliable)
#   - Runs on Linux/Mac/Windows workstations
#   - Requires AI provider (OpenAI or Azure OpenAI)
#
# Documentation: See README.md and docs/ for detailed configuration
#
